import random
import string

from django.db.models.expressions import result

'''
 ä¾‹å­1ï¼šéšæœºéªŒè¯ç : è®¾è®¡ä¸€ä¸ªç”ŸæˆéšæœºéªŒè¯ç çš„å‡½æ•°ï¼ŒéªŒè¯ç ç”±æ•°å­—å’Œè‹±æ–‡å¤§å°å†™å­—æ¯æ„æˆï¼Œé•¿åº¦å¯ä»¥é€šè¿‡å‚æ•°è®¾ç½®ã€‚
'''

ALL_CHARS = string.digits + string.ascii_letters


# todo å½“å‡½æ•°å®šä¹‰ä¸­ä½¿ç”¨ * æ—¶ï¼Œå®ƒæ„å‘³ç€åœ¨ * ä¹‹åçš„æ‰€æœ‰å‚æ•°éƒ½å¿…é¡»é€šè¿‡å…³é”®å­—å‚æ•°çš„å½¢å¼ä¼ é€’ï¼Œè€Œä¸èƒ½ä½œä¸ºä½ç½®å‚æ•°ä¼ é€’ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œè°ƒç”¨å‡½æ•°æ—¶å¿…é¡»æ˜ç¡®æŒ‡å®šå‚æ•°åå’Œå¯¹åº”çš„å€¼ã€‚
# ç»™é»˜è®¤å€¼code_len=6
def generate_code(*, code_len=6):
    """
    ç”ŸæˆæŒ‡å®šé•¿åº¦çš„éªŒè¯ç 
    :param code_len: éªŒè¯ç çš„é•¿åº¦(é»˜è®¤4ä¸ªå­—ç¬¦)
    :return: ç”±å¤§å°å†™è‹±æ–‡å­—æ¯å’Œæ•°å­—æ„æˆçš„éšæœºéªŒè¯ç å­—ç¬¦ä¸²
    """
    return ''.join(random.choices(ALL_CHARS, k=code_len))


#  é”™è¯¯çš„è°ƒç”¨æ–¹å¼ï¼Œä¸èƒ½ä½¿ç”¨ä½ç½®å‚æ•°ï¼Œåªèƒ½ç”¨å…³é”®å­—å‚æ•°
# todo  generate_code(8)  # è¿™ä¼šå¼•å‘ TypeError
print(generate_code(code_len=7))

'''
 ä¾‹å­1ï¼šåˆ¤æ–­ç´ æ•°:è®¾è®¡ä¸€ä¸ªåˆ¤æ–­ç»™å®šçš„å¤§äº1çš„æ­£æ•´æ•°æ˜¯ä¸æ˜¯è´¨æ•°çš„å‡½æ•°ã€‚è´¨æ•°æ˜¯åªèƒ½è¢«1å’Œè‡ªèº«æ•´é™¤çš„æ­£æ•´æ•°ï¼ˆå¤§äº1ï¼‰ï¼Œå¦‚æœä¸€ä¸ªå¤§äº1çš„æ­£æ•´æ•°$N$æ˜¯è´¨æ•°ï¼Œé‚£å°±æ„å‘³ç€åœ¨2åˆ°$N-1$ä¹‹é—´éƒ½æ²¡æœ‰å®ƒçš„å› å­ã€‚
'''


def is_prime(num: int) -> bool:
    """
      åˆ¤æ–­ä¸€ä¸ªæ­£æ•´æ•°æ˜¯ä¸æ˜¯è´¨æ•°
      :param num: å¤§äº1çš„æ­£æ•´æ•°
      :return: å¦‚æœnumæ˜¯è´¨æ•°è¿”å›Trueï¼Œå¦åˆ™è¿”å›False
    """
    if num < 2:
        print(f'è¯·è¾“å…¥å¤§äº1çš„æ•´æ•°')
        return False
    else:
        for i in range(2, int(num ** 0.5) + 1):
            if num % i == 0:
                return False
        print(f'{num}ï¼šæ˜¯ä¸ªç´ æ•°')
        return True


# a = int(input(f'è¯·è¾“å…¥ä¸€ä¸ªæ•´æ•°'))
# print(is_prime(a))

"""æ±‚æœ€å°å…¬å€æ•°"""


def lcm(x: int, y: int) -> int:
    return x * y // gcd(x, y)


"""æ±‚æœ€å¤§å…¬çº¦æ•°"""


def gcd(x: int, y: int) -> int:
    while y % x != 0:
        x, y = y % x, x
    return x


# æœ€å°å…¬å€æ•°ç­‰äºé™¤æ•°å’Œæœ€åçš„å•†ç›¸ä¹˜ï¼Œå³ã€‚7*3*4=84
print(lcm(21, 28))  # æœ€å°å¯ä»¥æ•´é™¤x,yçš„æ•°
print(gcd(20, 12))  # æœ€å¤§å¯ä»¥è¢«x,yçš„æ•´é™¤çš„æ•°:4


# todo æå·®ï¼šæœ€å¤§å€¼-æœ€å°å€¼
def ptp(data):
    """æå·®ï¼ˆå…¨è·ï¼‰"""
    return max(data) - min(data)


# todo ç®—æœ¯å¹³å‡ï¼šæ‰€æœ‰æ•°å€¼ç›¸åŠ /ä¸ªæ•°
def mean(data):
    """ç®—æœ¯å¹³å‡"""
    return sum(data) / len(data)


# todo ä¸­ä½æ•°ï¼šæ‰€æœ‰æ•°å€¼ä½äºä¸­é—´çš„é‚£ä¸ªæ•°æ®ï¼Œå¦‚æœæ˜¯å¶æ•°å°±å–ä¸­é—´çš„ä¸¤ä¸ª/2,å¦‚æœæ˜¯å¥‡æ•°å°±å–ä¸­é—´ï¼Œå‰ææ˜¯æ’å¥½åºäº†
def median(data):
    """ä¸­ä½æ•°"""
    temp, size = sorted(data), len(data)
    if size % 2 != 0:
        return temp[size // 2]
    else:
        return mean(temp[size // 2 - 1:size // 2 + 1])


# todo æ–¹å·®ï¼šæ–¹å·®çš„å…¬å¼ç”¨äºè¡¡é‡ä¸€ç»„æ•°æ®çš„ç¦»æ•£ç¨‹åº¦ï¼Œè¡¨ç¤ºæ•°æ®ä¸å…¶å¹³å‡å€¼ä¹‹é—´çš„åå·®å¤§å°
'''


'''


# æ€»ä½“æ–¹å·®ç”¨äºæè¿°æ•´ä¸ªæ•°æ®é›†çš„ç¦»æ•£ç¨‹åº¦ã€‚
# æ ·æœ¬æ–¹å·®ç”¨äºä¼°è®¡æ€»ä½“æ–¹å·®ã€‚
# æ–¹å·®è¶Šå¤§ï¼Œæ•°æ®çš„æ³¢åŠ¨æ€§è¶Šå¤§ï¼›æ–¹å·®è¶Šå°ï¼Œæ•°æ®è¶Šé›†ä¸­ã€‚
def var(data, ddof=1):
    """æ–¹å·®"""
    x_bar = mean(data)
    temp = [(num - x_bar) ** 2 for num in data]
    return sum(temp) / (len(temp) - ddof)


# ** 0.5ä»£è¡¨å¼€æ ¹å·âˆš
# æ ‡å‡†å·®æ˜¯æ–¹å·®çš„å¹³æ–¹æ ¹ï¼Œç”¨äºè¡¡é‡æ•°æ®åˆ†å¸ƒçš„ç¦»æ•£ç¨‹åº¦ã€‚ä¸æ–¹å·®ç›¸æ¯”ï¼Œæ ‡å‡†å·®çš„å•ä½å’ŒåŸå§‹æ•°æ®ä¸€è‡´ï¼Œå› æ­¤æ›´å…·ç›´è§‚æ€§
def std(data, ddof=1):
    """æ ‡å‡†å·®"""
    return var(data, ddof) ** 0.5


# todo å˜å¼‚ç³»æ•°é€šè¿‡å°†æ ‡å‡†å·®ä¸å‡å€¼çš„æ¯”å€¼æ¥è¡¨ç¤ºã€‚å˜å¼‚ç³»æ•°ï¼ˆCoefficient of Variation, ç®€ç§° CVï¼‰æ˜¯è¡¡é‡æ•°æ®ç›¸å¯¹ç¦»æ•£ç¨‹åº¦çš„ä¸€ä¸ªæ— é‡çº²æŒ‡æ ‡ï¼Œå¸¸ç”¨äºæ¯”è¾ƒä¸åŒæ•°æ®é›†çš„æ³¢åŠ¨æ€§ï¼Œå°¤å…¶æ˜¯åœ¨å‡å€¼å·®å¼‚è¾ƒå¤§çš„æƒ…å†µä¸‹
def cv(data, ddof=1):
    """å˜å¼‚ç³»æ•°"""
    return std(data, ddof) / mean(data)


def describe(data):
    """è¾“å‡ºæè¿°æ€§ç»Ÿè®¡ä¿¡æ¯"""
    print(f'å‡å€¼: {mean(data)}')
    print(f'ä¸­ä½æ•°: {median(data)}')
    print(f'æå·®: {ptp(data)}')
    print(f'æ–¹å·®: {var(data)}')
    print(f'æ ‡å‡†å·®: {std(data)}')
    print(f'å˜å¼‚ç³»æ•°: {cv(data, ddof=1)}')


demo_data = [1, 3, 4, 5, 6, 11, 88, 89, 90, 1000, 1111, 1112]
print(describe(demo_data))

# todo ä¾‹å­5ï¼šåŒè‰²çƒéšæœºé€‰å·ï¼ˆçº¢çƒ 1-33 è“çƒ1-16ï¼‰
RED_BALLS = [i for i in range(1, 34)]
BLUE_BALLS = [i for i in range(1, 17)]


# è·å–æŒ‡å®šç»„çš„åŒè‰²çƒåˆ—è¡¨ï¼Œçº¢åœ¨å‰ è“åœ¨å
def get_red_blue_balls():
    selected_balls = random.sample(RED_BALLS, 6)
    selected_balls.sort()
    # é€‰æ‹©ä¸€ä¸ª
    selected_balls.append(random.choice(BLUE_BALLS))
    return selected_balls


def display(balls):
    """
    æ ¼å¼è¾“å‡ºä¸€ç»„å·ç 
    :param balls: ä¿å­˜éšæœºå·ç çš„åˆ—è¡¨
    """
    res = check_lottery(balls)
    for ball in balls[:-1]:
        print(f'\033[031m{ball:0>2d}\033[0m', end=' ')
    print(f'\033[034m{balls[-1]:0>2d}\033[0m------------->ä¸­å¥–æƒ…å†µï¼š{res}')


winning_numbers = [4, 11, 15, 24, 25, 33, 15]  # ä¸­å¥–çš„å·ç 

'''
ä¸€ç­‰å¥–ï¼šæŠ•æ³¨å·ç ä¸å½“æœŸå¼€å¥–å·ç å…¨éƒ¨ç›¸åŒï¼ˆé¡ºåºä¸é™ï¼Œä¸‹åŒï¼‰ï¼Œå³ä¸­å¥–ï¼›
äºŒç­‰å¥–ï¼šæŠ•æ³¨å·ç ä¸å½“æœŸå¼€å¥–å·ç ä¸­çš„6ä¸ªçº¢è‰²çƒå·ç ç›¸åŒï¼Œå³ä¸­å¥–ï¼›
ä¸‰ç­‰å¥–ï¼šæŠ•æ³¨å·ç ä¸å½“æœŸå¼€å¥–å·ç ä¸­çš„ä»»æ„5ä¸ªçº¢è‰²çƒå·ç å’Œ1ä¸ªè“è‰²çƒå·ç ç›¸åŒï¼Œå³ä¸­å¥–ï¼›
å››ç­‰å¥–ï¼šæŠ•æ³¨å·ç ä¸å½“æœŸå¼€å¥–å·ç ä¸­çš„ä»»æ„5ä¸ªçº¢è‰²çƒå·ç ç›¸åŒï¼Œæˆ–ä¸ä»»æ„4ä¸ªçº¢è‰²çƒå·ç å’Œ1ä¸ªè“è‰²çƒå·ç ç›¸åŒï¼Œå³ä¸­å¥–ï¼›
äº”ç­‰å¥–ï¼šæŠ•æ³¨å·ç ä¸å½“æœŸå¼€å¥–å·ç ä¸­çš„ä»»æ„4ä¸ªçº¢è‰²çƒå·ç ç›¸åŒï¼Œæˆ–ä¸ä»»æ„3ä¸ªçº¢è‰²çƒå·ç å’Œ1ä¸ªè“è‰²çƒå·ç ç›¸åŒï¼Œå³ä¸­å¥–ï¼›
å…­ç­‰å¥–ï¼šæŠ•æ³¨å·ç ä¸å½“æœŸå¼€å¥–å·ç ä¸­çš„1ä¸ªè“è‰²çƒå·ç ç›¸åŒï¼Œå³ä¸­å¥–ã€‚
'''


def check_lottery(user_numbers):
    # å‡è®¾ç”¨æˆ·è¾“å…¥çš„å·ç æ˜¯ä¸€ä¸ªåŒ…å«7ä¸ªæ•°å­—çš„åˆ—è¡¨
    # ä¾‹å¦‚ï¼šuser_numbers = [1, 2, 3, 4, 5, 6, 10]

    # ä¸­å¥–å·ç æ˜¯ä¸€ä¸ªåŒ…å«7ä¸ªæ•°å­—çš„åˆ—è¡¨
    # ä¾‹å¦‚ï¼šwinning_numbers = [1, 2, 3, 4, 5, 6, 10]
    # print(f'å½“å‰å·ç ï¼š{user_numbers}')
    # å°†çº¢å·å’Œè“å·åˆ†å¼€
    user_reds, user_blue = user_numbers[:6], user_numbers[6]
    winning_reds, winning_blue = winning_numbers[:6], winning_numbers[6]

    # æ£€æŸ¥çº¢å·åŒ¹é…æ•°é‡æƒ…å†µ
    red_matches = len(set(user_reds) & set(winning_reds))  # äº¤é›†ï¼Œè®¡ç®—çº¢å·åŒ¹é…æ•°é‡

    # åˆ¤æ–­ä¸­å¥–æƒ…å†µ
    if set(user_numbers) == set(winning_numbers):  # å…¨éƒ¨å·ç å®Œå…¨ç›¸åŒ
        return "ğŸ‚ä¸€ç­‰å¥–ï¼"
    elif red_matches == 6:  # çº¢å·å®Œå…¨ç›¸åŒï¼Œè“å·ä¸ä¸€å®šç›¸åŒ
        return "äºŒç­‰å¥–ï¼"
    elif red_matches == 5 and user_blue == winning_blue:  # 5ä¸ªçº¢å·å’Œ1ä¸ªè“å·ç›¸åŒ
        return "ä¸‰ç­‰å¥–ï¼"
    elif red_matches == 5 or (red_matches == 4 and user_blue == winning_blue):  # 5ä¸ªçº¢å·æˆ–4ä¸ªçº¢å·åŠ 1ä¸ªè“å·ç›¸åŒ
        return "å››ç­‰å¥–ï¼"
    elif red_matches == 4 or (red_matches == 3 and user_blue == winning_blue):  # 4ä¸ªçº¢å·æˆ–3ä¸ªçº¢å·åŠ 1ä¸ªè“å·ç›¸åŒ
        return "äº”ç­‰å¥–ï¼"
    elif user_blue == winning_blue:  # 1ä¸ªè“å·ç›¸åŒ
        return "å…­ç­‰å¥–ï¼"
    else:
        return "ğŸ˜­è°¢è°¢å‚ä¸ï¼"


n = int(input('ç”Ÿæˆå‡ æ³¨å·ç : '))
for _ in range(n):
    display(get_red_blue_balls())
